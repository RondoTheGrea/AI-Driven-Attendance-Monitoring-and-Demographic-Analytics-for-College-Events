{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/org-dashboard.css' %}">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body class="page-dashboard">
    <div class="navbar">
        <h1>Organization Dashboard</h1>
        <a href="{% url 'org-logout' %}">Logout</a>
    </div>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <a href="#" 
                   class="sidebar-item active" 
                   hx-get="{% url 'org-dashboard-overview' %}" 
                   hx-target="#content-area" 
                   hx-swap="innerHTML">
                    <span class="icon">ğŸ“Š</span>
                    <span class="label">Overview</span>
                </a>
                <a href="#" 
                   class="sidebar-item" 
                   hx-get="{% url 'org-dashboard-events' %}" 
                   hx-target="#content-area" 
                   hx-swap="innerHTML">
                    <span class="icon">ğŸ“…</span>
                    <span class="label">Events</span>
                </a>
                <a href="#" 
                   class="sidebar-item" 
                   hx-get="{% url 'org-dashboard-insights' %}" 
                   hx-target="#content-area" 
                   hx-swap="innerHTML">
                    <span class="icon">ğŸ“ˆ</span>
                    <span class="label">AI Insights</span>
                </a>
                <a href="#" 
                   class="sidebar-item" 
                   hx-get="{% url 'org-dashboard-settings' %}" 
                   hx-target="#content-area" 
                   hx-swap="innerHTML">
                    <span class="icon">âš™ï¸</span>
                    <span class="label">Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <div id="content-area">
                <!-- Content will be loaded here via HTMX -->
            </div>
        </main>
    </div>

    <script>
        // Set active sidebar item on click
        document.querySelectorAll('.sidebar-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                htmx.ajax('GET', this.getAttribute('hx-get'), {target: '#content-area', swap: 'innerHTML'});
            });
        });

        // Load default overview on page load
        document.addEventListener('DOMContentLoaded', function() {
            const defaultTab = document.querySelector('.sidebar-item.active');
            if (defaultTab) {
                htmx.ajax('GET', defaultTab.getAttribute('hx-get'), {target: '#content-area', swap: 'innerHTML'});
            }
        });
    </script>
</body>
</html>

